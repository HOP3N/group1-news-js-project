{"mappings":"AAAA,MAAMA,EAAWC,SAASC,eAAe,SAMvCC,MACE,yEALY,sCAOXC,MAAMC,GAAaA,EAASC,SAC5BF,MAAK,EAACG,QAAEA,MACPC,QAAQC,IAAIF,GACZ,IAAIG,EAAO,GACPH,GACFA,EAAQI,SAASC,IACfF,GAAQ,6DACwCE,EAAKC,sGAErBD,EAAKE,WAAW,GAAGC,eAAeH,EAAKE,WAAW,GAAGE,2EAEhEJ,EAAKK,0YAOFL,EAAKC,8CACND,EAAKM,kFAGLN,EAAKO,wCACnBP,EAAKG,uHAGP,IAETf,EAASoB,UAAUC,OAAO,cAE1BX,EAAO,kCACPV,EAASoB,UAAUE,IAAI,aAEzBtB,EAASuB,UAAYb,CAAA,IAsC3BV,EAASwB,iBAAiB,SAhC1B,SAAuBC,GACrB,GAAgC,iBAA5BA,EAAEC,OAAOC,QAAQC,OAA2B,CAC9C,IAAIC,EAAWJ,EAAEC,OAAOI,cAAcA,cAAcH,QAAQI,GAC5D,MAAMC,EAAYC,KAAKC,MAAMC,aAAaC,QAAQ,eAAiB,GAEnE,GAAIX,EAAEC,OAAON,UAAUiB,SAAS,sBAAuB,CACrD,MAAMC,EAAmBN,EAAUO,QAAQR,GAAOA,IAAOF,IACzDM,aAAaK,QAAQ,YAAaP,KAAKQ,UAAUH,IAEjDb,EAAEC,OAAOgB,YAAc,mBACvBjB,EAAEC,OAAON,UAAUC,OAAO,qBAC5B,MACEW,EAAUW,KAAKd,GACfM,aAAaK,QAAQ,YAAaP,KAAKQ,UAAUT,IAEjDP,EAAEC,OAAOgB,YAAc,wBACvBjB,EAAEC,OAAON,UAAUE,IAAI,qBAE3B,CACF","sources":["src/js/get-card-list.js"],"sourcesContent":["const cardList = document.getElementById(\"cards\");\nconst isFavorite = true;\nconst API_KEY = \"SVYGfSzYyEfqvl2Rz9D9zXBCipJV7rQX\";\nlet inputText = \"\";\n\nfunction getCardsList() {\n  fetch(\n    `https://api.nytimes.com/svc/news/v3/content/nyt/business.json?api-key=${API_KEY}`\n  )\n    .then((response) => response.json())\n    .then(({ results }) => {\n      console.log(results);\n      let html = \"\";\n      if (results) {\n        results.forEach((card) => {\n          html += `\n                    <div class = \"news-item\" data-id = \"${card.title}\">\n                        <div class = \"news-img\">\n                            <img src = \"${card.multimedia[2].url}\" alt = \"${card.multimedia[2].caption}\">\n                        </div>\n                        <div>${card.section}</div>\n                                                <div>Already read &#x2714</div>\n\n                        <div class = \"news-buttons\">\n                            <button type=\"button\" data-action=\"favorite-btn\" class=\"favorite-btn\">Add to favorite</button>\n                        </div>\n                        <div class = \"news-name\">\n                            <h3>${card.title}</h3>\n                            <p>${card.abstract}</p>\n                        </div>\n\n                            <p>${card.published_date}</p>\n        <a href=\"${card.url}\" target=\"_blank\" rel=\"noopener noreferrer nofollow\">Read more</a>\n\n                    </div>\n                `;\n        });\n        cardList.classList.remove(\"notFound\");\n      } else {\n        html = \"Sorry, we didn't find any news!\";\n        cardList.classList.add(\"notFound\");\n      }\n      cardList.innerHTML = html;\n      // setFavoritesOnLoad();\n    });\n}\ngetCardsList();\n\nfunction addToFavorite(e) {\n  if (e.target.dataset.action === \"favorite-btn\") {\n    let cardItem = e.target.parentElement.parentElement.dataset.id;\n    const favorites = JSON.parse(localStorage.getItem(\"favorites\")) || [];\n\n    if (e.target.classList.contains(\"removeFavorite-btn\")) {\n      const updatedFavorites = favorites.filter((id) => id !== cardItem);\n      localStorage.setItem(\"favorites\", JSON.stringify(updatedFavorites));\n\n      e.target.textContent = \"Add to favorites\";\n      e.target.classList.remove(\"removeFavorite-btn\");\n    } else {\n      favorites.push(cardItem);\n      localStorage.setItem(\"favorites\", JSON.stringify(favorites));\n\n      e.target.textContent = \"Remove from favorites\";\n      e.target.classList.add(\"removeFavorite-btn\");\n    }\n  }\n}\n\nfunction setFavoritesOnLoad() {\n  const favorites = JSON.parse(localStorage.getItem(\"favorites\")) || [];\n\n  favorites.forEach((id) => {\n    const cardItem = document.querySelector(`[data-id=\"${id}\"]`);\n    const favoriteBtn = cardItem.querySelector(\"[data-action='favorite-btn']\");\n\n    favoriteBtn.classList.add(\"removeFavorite-btn\");\n    favoriteBtn.textContent = \"Remove from fav\";\n  });\n}\ncardList.addEventListener(\"click\", addToFavorite);\n"],"names":["$3bb387b889253f78$var$cardList","document","getElementById","fetch","then","response","json","results","console","log","html","forEach","card","title","multimedia","url","caption","section","abstract","published_date","classList","remove","add","innerHTML","addEventListener","e","target","dataset","action","cardItem","parentElement","id","favorites","JSON","parse","localStorage","getItem","contains","updatedFavorites","filter","setItem","stringify","textContent","push"],"version":3,"file":"cards.cc1f47e6.js.map"}