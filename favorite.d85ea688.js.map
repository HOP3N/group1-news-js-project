{"mappings":"oeACA,IAAAA,EAAAC,EAAA,eAAMC,EAASC,SAASC,cAAc,eAEhCC,EAAoB,YAC1B,WACE,MAAMC,EAAmBC,aAAaC,QAAQH,GAC9C,IAAKC,EACH,OAGF,MAEMG,EAFUC,KAAKC,MAAML,GAEAM,KAAIC,IAC7B,MAAMC,EAAWD,EAAQE,MAAMH,KAAII,GAiBvC,SAAwBC,GACtBC,QAAQC,IAAIF,GACZ,MAAMG,EAASH,EAAKI,MAAMC,OACtBL,EAAKI,MAAM,GAAG,kBAAkB,GAAGE,IACnC,+EACEC,EAAaP,EAAKI,MAAMC,OAASL,EAAKI,MAAM,GAAGI,QAAU,GAC/D,MAAO,uCAAuCR,EAAKS,4GAGfN,aAAkBI,2DACjBP,EAAKU,2NAITV,EAAKW,qDACAX,EAAKY,qGAEX,EAAA7B,EAAA8B,SAC1Bb,EAAKc,eACL,wDAGAd,EAAKM,0GAMb,CA3CaS,CAAehB,KAGxB,MAAO,8BACKH,EAAQoB,wDAEhBnB,EAASoB,KAAK,kCAGnB,IAEDhC,EAAOiC,mBAAmB,YAAa1B,EAAWyB,KAAK,IACzD,CACAE","sources":["src/js/read.js"],"sourcesContent":["// Выемка данных из локалстореджа\nconst cardEl = document.querySelector('.js_detalis');\nimport dateFormat, { masks } from 'dateformat';\nconst LOCAL_STORAGE_KEY = 'read_key';\nfunction getItemFromLocalStorage() {\n  const dataLocalStorage = localStorage.getItem(LOCAL_STORAGE_KEY);\n  if (!dataLocalStorage) {\n    return;\n  }\n\n  const content = JSON.parse(dataLocalStorage);\n\n  const contentArr = content.map(element => {\n    const itemsAll = element.items.map(el => {\n      // console.log(el); ///*******Вставка функция генерации карточек */\n      return createCardItem(el);\n    });\n    // ******разметка блока для секции read\n    return ` <details >\n     <summary>${element.data}</summary>\n    <ul class=\"content-read\">\n      ${itemsAll.join('')}\n    </ul>\n  </details>\n  `;\n  });\n  cardEl.insertAdjacentHTML('beforeend', contentArr.join(''));\n}\ngetItemFromLocalStorage();\n\nfunction createCardItem(card) {\n  console.log(card);\n  const imgUrl = card.media.length\n    ? card.media[0]['media-metadata'][2].url\n    : 'https://upload.wikimedia.org/wikipedia/commons/6/65/No-Image-Placeholder.svg';\n  const imgCaption = card.media.length ? card.media[0].caption : '';\n  return `<li class = \"card__item\" data-id = \"${card.uri}\">\n  <div class=\"card__wrapper\">\n    <div class=\"card__thumb\">\n      <img class=\"card__img\" src = \"${imgUrl}\" alt = \"${imgCaption}\" width = \"350\">\n      <p class=\"card__news-category\">${card.section_name}</p>\n      <p class=\"card__text-read\">Already read</p>\n      <button class=\"favorite-btn\" type=\"button\" data-action=\"favorite-btn\">Add to favorite</button>\n    </div>\n    <h3 class=\"card__news-title\">${card.title}</h3>\n    <p class=\"card__news-description\">${card.abstract}</p>\n    <div class=\"card__additional-info-container\">\n      <p class=\"card__datetime\">${dateFormat(\n        card.published_date,\n        'dd/mm/yyyy'\n      )}</p>\n      <a class=\"card__link\" href=\"${\n        card.url\n      }\" target=\"_blank\" rel=\"noopener noreferrer nofollow\">Read more</a>\n    </div>\n    \n  </div>\n</li>`;\n}\n\n// при открытии следующей закрывается предыдущая\n// var details = document.querySelectorAll('details');\n// for (i = 0; i < details.length; i++) {\n//   details[i].addEventListener('toggle', accordion);\n// }\n// function accordion(event) {\n//   if (!event.target.open) return;\n//   var details = event.target.parentNode.children;\n//   for (i = 0; i < details.length; i++) {\n//     if (\n//       details[i].tagName != 'DETAILS' ||\n//       !details[i].hasAttribute('open') ||\n//       event.target == details[i]\n//     ) {\n//       continue;\n//     }\n//     details[i].removeAttribute('open');\n//   }\n// }\n\n// ********************************************************\n"],"names":["$e0clc","parcelRequire","$678f27e45062342e$var$cardEl","document","querySelector","$678f27e45062342e$var$LOCAL_STORAGE_KEY","dataLocalStorage","localStorage","getItem","contentArr","JSON","parse","map","element","itemsAll","items","el","card","console","log","imgUrl","media","length","url","imgCaption","caption","uri","section_name","title","abstract","default","published_date","$678f27e45062342e$var$createCardItem","data","join","insertAdjacentHTML","$678f27e45062342e$var$getItemFromLocalStorage"],"version":3,"file":"favorite.d85ea688.js.map"}