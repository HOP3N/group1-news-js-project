const e=document.querySelector(".wrapper"),t=document.querySelector(".input-part"),r=t.querySelector(".info-txt"),n=t.querySelector("input"),i=t.querySelector("button"),o=e.querySelector(".weather-part"),a=o.querySelector("img"),s=e.querySelector("header i");let c;function l(e){const{latitude:t,longitude:r}=e.coords;c=`https://api.openweathermap.org/data/2.5/weather?lat=${t}&lon=${r}&units=metric&appid=your_api_key`,p()}function u(e){r.innerText=e.message,r.classList.add("error")}function p(){r.innerText="Getting weather details...",r.classList.add("pending"),fetch(c).then((e=>e.json())).then((t=>function(t){if("404"==t.cod)r.classList.replace("pending","error"),r.innerText=`${n.value} isn't a valid city name`;else{const i=t.name,s=t.sys.country,{description:c,id:l}=t.weather[0],{temp:u,feels_like:p,humidity:d}=t.main;800==l?a.src="icons/clear.svg":l>=200&&l<=232?a.src="icons/storm.svg":l>=600&&l<=622?a.src="icons/snow.svg":l>=701&&l<=781?a.src="icons/haze.svg":l>=801&&l<=804?a.src="icons/cloud.svg":(l>=500&&l<=531||l>=300&&l<=321)&&(a.src="icons/rain.svg"),o.querySelector(".temp .numb").innerText=Math.floor(u),o.querySelector(".weather").innerText=c,o.querySelector(".location span").innerText=`${i}, ${s}`,o.querySelector(".temp .numb-2").innerText=Math.floor(p),o.querySelector(".humidity span").innerText=`${d}%`,r.classList.remove("pending","error"),r.innerText="",n.value="",e.classList.add("active")}}(t))).catch((()=>{r.innerText="Something went wrong",r.classList.replace("pending","error")}))}n.addEventListener("keyup",(e=>{var t;"Enter"==e.key&&""!=n.value&&(t=n.value,c=`https://api.openweathermap.org/data/2.5/weather?q=${t}&units=metric&appid=your_api_key`,p())})),i.addEventListener("click",(()=>{navigator.geolocation?navigator.geolocation.getCurrentPosition(l,u):alert("Your browser not support geolocation api")})),s.addEventListener("click",(()=>{e.classList.remove("active")}));
//# sourceMappingURL=index.15969be2.js.map
