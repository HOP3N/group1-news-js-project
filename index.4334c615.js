(()=>{const e=document.querySelector(".js-menu-container"),t=document.querySelector(".js-open-menu"),a=document.querySelector(".js-close-menu"),n=()=>{const a="true"===t.getAttribute("aria-expanded")||!1;t.setAttribute("aria-expanded",!a),e.classList.toggle("is-open");bodyScrollLock[a?"enableBodyScroll":"disableBodyScroll"](document.body)};t.addEventListener("click",n),a.addEventListener("click",n),window.matchMedia("(min-width: 768px)").addEventListener("change",(a=>{a.matches&&(e.classList.remove("is-open"),t.setAttribute("aria-expanded",!1),bodyScrollLock.enableBodyScroll(document.body))}))})();var e=document.querySelectorAll("details");for(i=0;i<e.length;i++)e[i].addEventListener("toggle",t);function t(e){if(e.target.open){var t=e.target.parentNode.children;for(i=0;i<t.length;i++)"DETAILS"==t[i].tagName&&t[i].hasAttribute("open")&&e.target!=t[i]&&t[i].removeAttribute("open")}}const a=document.getElementById("theme-switch");a.checked=!1,a.addEventListener("change",(function(){this.checked?(document.body.classList.remove("light"),document.body.classList.add("dark"),localStorage.setItem("theme","dark"),textSwitcher[0].classList.remove("active"),textSwitcher[1].classList.add("active"),imageSwitcher[0].classList.remove("active"),imageSwitcher[1].classList.add("active")):(document.body.classList.add("light"),document.body.classList.remove("dark"),localStorage.setItem("theme","light"),textSwitcher[1].classList.remove("active"),textSwitcher[0].classList.add("active"),imageSwitcher[1].classList.remove("active"),imageSwitcher[0].classList.add("active"))})),window.addEventListener("load",(function(){const e=localStorage.getItem("theme");document.body.className=e,"dark"===e&&(a.checked=!0,textSwitcher[1].classList.add("active"),imageSwitcher[1].classList.add("active"))}));const n=document.querySelector(".icon-search"),s=document.querySelector(".search-input");n.onclick=function(){s.classList.toggle("active")};const c=document.getElementById("cards"),o="https://api.nytimes.com/svc",r="SVYGfSzYyEfqvl2Rz9D9zXBCipJV7rQX",d="/mostpopular/v2/viewed/1.json?api-key=",l=async function(e){const t=await fetch("https://api.nytimes.com/svc/mostpopular/v2/viewed/1.json?api-key=SVYGfSzYyEfqvl2Rz9D9zXBCipJV7rQX"),a=await t.json();let{results:n}=a;return n}();console.log(l),fetch(`${o}${d}${r}`).then((e=>e.json())).then((({results:e})=>{console.log(e);let t="";e?(e.forEach((e=>{const a=e.media.length?e.media[0]["media-metadata"][2].url:"",n=e.media.length?e.media[0].caption:"";t+=`<li class = "card__item" data-id = "${e.uri}">\n    <div class="card__wrapper">\n      <div class="card__thumb">\n        <img class="card__img" src = "${a}" alt = "${n}">\n        <p class="card__news-category">${e.section_name}</p>\n        <p class="card__text-read">Already read</p>\n        <button class="favorite-btn" type="button" data-action="favorite-btn">Add to favorite</button>\n      </div>\n      <h3 class="card__news-title">${e.title}</h3>\n      <p class="card__news-description">${e.abstract}</p>\n      <div class="card__additional-info-container">\n        <p class="card__datetime">${dateFormat(e.published_date,"dd/mm/yyyy")}</p>\n        <a class="card__link" href="${e.url}" target="_blank" rel="noopener noreferrer nofollow">Read more</a>\n      </div>\n      \n    </div>\n</li>`})),c.classList.remove("notFound")):(t="Sorry, we didn't find any news!",c.classList.add("notFound")),c.innerHTML=t,setFavoritesOnLoad()})),c.addEventListener("click",addToFavorite),c.addEventListener("click",(function(e){if(console.log(e.target.dataset),"card__link"===e.target.dataset.action){let t=e.target.parentElement.parentElement.parentElement.dataset.id;console.log(e.target.parentElement.parentElement.dataset.id);const a=JSON.parse(localStorage.getItem("read"))||[];if(e.target.classList.contains("removeFavorite-btn")){console.log(e.target.dataset.action);const n=a.filter((e=>e!==t));localStorage.setItem("read",JSON.stringify(n))}else a.push(t),localStorage.setItem("read",JSON.stringify(a))}}));const m=document.getElementById("cards");fetch(`${"https://api.nytimes.com/svc"}/search/v2/articlesearch.json?q=arts&page=1&api-key=${"SVYGfSzYyEfqvl2Rz9D9zXBCipJV7rQX"}`).then((e=>e.json())).then((({response:e})=>{console.log(e);const t=e.docs;let a="";t?(t.forEach((e=>{const t=e.multimedia.length?`https://static01.nyt.com/${e.multimedia[0].url}`:"",n=e.multimedia.length?`https://static01.nyt.com/${e.multimedia[0].caption}`:"";a+=`<li class = "card__item" data-id = "${e.uri}">\n    <div class="card__wrapper">\n      <div class="card__thumb">\n        <img class="card__img" src = "${t}" alt = "${n}">\n        <p class="card__news-category">${e.section_name}</p>\n        <p class="card__text-read">Already read</p>\n        <button class="favorite-btn" type="button" data-action="favorite-btn">Add to favorite</button>\n      </div>\n      <h3 class="card__news-title">${e.headline.main}</h3>\n      <p class="card__news-description">${e.abstract}</p>\n      <div class="card__additional-info-container">\n        <p class="card__datetime">${dateFormat(e.pub_date,"dd/mm/yyyy")}</p>\n        <a class="card__link" href="${e.web_url}" target="_blank" rel="noopener noreferrer nofollow">Read more</a>\n      </div>\n      \n    </div>\n</li>`})),m.classList.remove("notFound")):(a="Sorry, we didn't find any news!",m.classList.add("notFound")),m.innerHTML=a,setFavoritesOnLoad()})),m.addEventListener("click",addToFavorite),m.addEventListener("click",(function(e){if(console.log(e.target.dataset),"card__link"===e.target.dataset.action){let t=e.target.parentElement.parentElement.parentElement.dataset.id;console.log(e.target.parentElement.parentElement.dataset.id);const a=JSON.parse(localStorage.getItem("read"))||[];if(e.target.classList.contains("removeFavorite-btn")){console.log(e.target.dataset.action);const n=a.filter((e=>e!==t));localStorage.setItem("read",JSON.stringify(n))}else a.push(t),localStorage.setItem("read",JSON.stringify(a))}}));
//# sourceMappingURL=index.4334c615.js.map
