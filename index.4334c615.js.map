{"mappings":"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","sources":["src/js/mobile-menu.js","src/js/read.js","src/js/theme.js","src/js/header.js","src/js/get-card-list-popular.js","src/js/get-popular.js","src/js/get-card-list-search.js"],"sourcesContent":["(() => {\n  const mobileMenu = document.querySelector('.js-menu-container');\n  const openMenuBtn = document.querySelector('.js-open-menu');\n  const closeMenuBtn = document.querySelector('.js-close-menu');\n\n  const toggleMenu = () => {\n    const isMenuOpen =\n      openMenuBtn.getAttribute('aria-expanded') === 'true' || false;\n    openMenuBtn.setAttribute('aria-expanded', !isMenuOpen);\n    mobileMenu.classList.toggle('is-open');\n\n    const scrollLockMethod = !isMenuOpen\n      ? 'disableBodyScroll'\n      : 'enableBodyScroll';\n    bodyScrollLock[scrollLockMethod](document.body);\n  };\n\n  openMenuBtn.addEventListener('click', toggleMenu);\n  closeMenuBtn.addEventListener('click', toggleMenu);\n\n  window.matchMedia('(min-width: 768px)').addEventListener('change', e => {\n    if (!e.matches) return;\n    mobileMenu.classList.remove('is-open');\n    openMenuBtn.setAttribute('aria-expanded', false);\n    bodyScrollLock.enableBodyScroll(document.body);\n  });\n})();\n\n\n//Mobile-change-theme\n\n// const themeSwitcherMobile = document.getElementById('theme-switch-mobile');\n\n// themeSwitcherMobile.checked = false;\n\n\n// function clickHandlerMobile() {\n//   if (this.checked) {\n//     document.body.classList.remove('light');\n//     document.body.classList.add('dark');\n//     localStorage.setItem('theme', 'dark');\n   \n//   } else {\n//     document.body.classList.add('light');\n//     document.body.classList.remove('dark');\n//     localStorage.setItem('theme', 'light');\n    \n//   }\n// }\n\n// function checkThemeMobile() {\n//   const localStorageThemeMobile = localStorage.getItem('theme');\n\n//   // set the theme of body\n//   document.body.className = localStorageThemeMobile;\n\n//   // adjust the slider position\n//   if (localStorageTheme === 'dark') {\n//     themeSwitcherMobile.checked = true;\n//     }\n// }\n\n// themeSwitcherMobile.addEventListener('change', clickHandlerMobile);\n// window.addEventListener('load', checkTheme);\n","// при открытии следующей закрывается предыдущая\nvar details = document.querySelectorAll('details');\nfor (i = 0; i < details.length; i++) {\n  details[i].addEventListener('toggle', accordion);\n}\nfunction accordion(event) {\n  if (!event.target.open) return;\n  var details = event.target.parentNode.children;\n  for (i = 0; i < details.length; i++) {\n    if (\n      details[i].tagName != 'DETAILS' ||\n      !details[i].hasAttribute('open') ||\n      event.target == details[i]\n    ) {\n      continue;\n    }\n    details[i].removeAttribute('open');\n  }\n}\n\n// ********************************************************\n","const themeSwitcher = document.getElementById('theme-switch');\nthemeSwitcher.checked = false;\n\n\nfunction clickHandler() {\n  if (this.checked) {\n    document.body.classList.remove('light');\n    document.body.classList.add('dark');\n    localStorage.setItem('theme', 'dark');\n    textSwitcher[0].classList.remove('active');\n    textSwitcher[1].classList.add('active');\n    imageSwitcher[0].classList.remove('active');\n    imageSwitcher[1].classList.add('active');\n  } else {\n    document.body.classList.add('light');\n    document.body.classList.remove('dark');\n    localStorage.setItem('theme', 'light');\n    textSwitcher[1].classList.remove('active');\n    textSwitcher[0].classList.add('active');\n    imageSwitcher[1].classList.remove('active');\n    imageSwitcher[0].classList.add('active');\n  }\n}\n\nfunction checkTheme() {\n  const localStorageTheme = localStorage.getItem('theme');\n\n  // set the theme of body\n  document.body.className = localStorageTheme;\n\n  // adjust the slider position\n  if (localStorageTheme === 'dark') {\n    themeSwitcher.checked = true;\n    textSwitcher[1].classList.add('active');\n    imageSwitcher[1].classList.add('active');\n  }\n}\n\nthemeSwitcher.addEventListener('change', clickHandler);\nwindow.addEventListener('load', checkTheme);\n","const iconSearch = document.querySelector('.icon-search');\nconst searchInput = document.querySelector('.search-input');\n\n\niconSearch.onclick = function(){\n    searchInput.classList.toggle('active')\n}","// import dateFormat, { masks } from 'dateformat';\r\n// import { addToFavorite } from './add-to-favorite';\r\n// import { setFavoritesOnLoad } from './set-favorites-on-load';\r\nimport { getPopular } from './get-popular';\r\n\r\nconst cardList = document.getElementById('cards');\r\nconst BASE_URL = 'https://api.nytimes.com/svc';\r\nconst API_KEY = 'SVYGfSzYyEfqvl2Rz9D9zXBCipJV7rQX';\r\nconst POPULAR_URL = '/mostpopular/v2/viewed/1.json?api-key=';\r\nconst temp = getPopular();\r\nconsole.log(temp);\r\n\r\nfunction getCardsList() {\r\n  fetch(`${BASE_URL}${POPULAR_URL}${API_KEY}`)\r\n    .then(response => response.json())\r\n    .then(({ results }) => {\r\n      console.log(results);\r\n      let html = '';\r\n      if (results) {\r\n        results.forEach(card => {\r\n          const imgUrl = card.media.length\r\n            ? card.media[0]['media-metadata'][2].url\r\n            : '';\r\n          const imgCaption = card.media.length ? card.media[0].caption : '';\r\n          html += `<li class = \"card__item\" data-id = \"${card.uri}\">\r\n    <div class=\"card__wrapper\">\r\n      <div class=\"card__thumb\">\r\n        <img class=\"card__img\" src = \"${imgUrl}\" alt = \"${imgCaption}\">\r\n        <p class=\"card__news-category\">${card.section_name}</p>\r\n        <p class=\"card__text-read\">Already read</p>\r\n        <button class=\"favorite-btn\" type=\"button\" data-action=\"favorite-btn\">Add to favorite</button>\r\n      </div>\r\n      <h3 class=\"card__news-title\">${card.title}</h3>\r\n      <p class=\"card__news-description\">${card.abstract}</p>\r\n      <div class=\"card__additional-info-container\">\r\n        <p class=\"card__datetime\">${dateFormat(\r\n          card.published_date,\r\n          'dd/mm/yyyy'\r\n        )}</p>\r\n        <a class=\"card__link\" href=\"${\r\n          card.url\r\n        }\" target=\"_blank\" rel=\"noopener noreferrer nofollow\">Read more</a>\r\n      </div>\r\n      \r\n    </div>\r\n</li>`;\r\n        });\r\n        cardList.classList.remove('notFound');\r\n      } else {\r\n        html = \"Sorry, we didn't find any news!\";\r\n        cardList.classList.add('notFound');\r\n      }\r\n      cardList.innerHTML = html;\r\n      setFavoritesOnLoad();\r\n    });\r\n}\r\ngetCardsList();\r\n\r\ncardList.addEventListener('click', addToFavorite);\r\ncardList.addEventListener('click', addToAlreadyRead);\r\n\r\n//----------------------------\r\n\r\nfunction addToAlreadyRead(e) {\r\n  console.log(e.target.dataset);\r\n  if (e.target.dataset.action === 'card__link') {\r\n    let cardItem =\r\n      e.target.parentElement.parentElement.parentElement.dataset.id;\r\n    console.log(e.target.parentElement.parentElement.dataset.id);\r\n    const favorites = JSON.parse(localStorage.getItem('read')) || [];\r\n\r\n    if (e.target.classList.contains('removeFavorite-btn')) {\r\n      console.log(e.target.dataset.action);\r\n      const updatedFavorites = favorites.filter(id => id !== cardItem);\r\n      localStorage.setItem('read', JSON.stringify(updatedFavorites));\r\n      // e.target.textContent = \"Add to favorites\";\r\n      // e.target.classList.remove(\"removeFavorite-btn\");\r\n    } else {\r\n      favorites.push(cardItem);\r\n      localStorage.setItem('read', JSON.stringify(favorites));\r\n      // e.target.textContent = \"Remove from favorites\";\r\n      // e.target.classList.add(\"removeFavorite-btn\");\r\n    }\r\n  }\r\n}\r\n\r\nfunction setAlreadyReadOnLoad() {\r\n  const favorites = JSON.parse(localStorage.getItem('read')) || [];\r\n\r\n  favorites.forEach(id => {\r\n    const cardItem = document.querySelector(`[data-id=\"${id}\"]`);\r\n    const favoriteBtn = cardItem.querySelector(\"[data-action='favorite-btn']\");\r\n\r\n    favoriteBtn.classList.add('removeFavorite-btn');\r\n    favoriteBtn.textContent = 'Remove from fav';\r\n  });\r\n}\r\n","async function getPopular(value) {\n  const BASE_URL = 'https://api.nytimes.com/svc';\n  const API_KEY = 'SVYGfSzYyEfqvl2Rz9D9zXBCipJV7rQX';\n  const POPULAR_URL = '/mostpopular/v2/viewed/1.json?api-key=';\n  const getNews = await fetch(`${BASE_URL}${POPULAR_URL}${API_KEY}`);\n  const news = await getNews.json();\n  let { results } = news;\n  return results;\n}\n\nexport { getPopular };\n","// import dateFormat, { masks } from 'dateformat';\n// import { addToFavorite } from './add-to-favorite';\n// import { setFavoritesOnLoad } from './set-favorites-on-load';\n\nconst cardList = document.getElementById('cards');\nconst BASE_URL = 'https://api.nytimes.com/svc';\nconst API_KEY = 'SVYGfSzYyEfqvl2Rz9D9zXBCipJV7rQX';\n//api.nytimes.com/svc/search/v2/articlesearch.json?q=arts&page=1&api-key=SVYGfSzYyEfqvl2Rz9D9zXBCipJV7rQX\nfunction getCardsList() {\n  fetch(\n    `${BASE_URL}/search/v2/articlesearch.json?q=arts&page=1&api-key=${API_KEY}`\n  )\n    .then(response => response.json())\n    .then(({ response }) => {\n      console.log(response);\n      const results = response.docs;\n      let html = '';\n      if (results) {\n        results.forEach(card => {\n          const imgUrl = card.multimedia.length\n            ? `https://static01.nyt.com/${card.multimedia[0].url}`\n            : '';\n          const imgCaption = card.multimedia.length\n            ? `https://static01.nyt.com/${card.multimedia[0].caption}`\n            : '';\n\n          html += `<li class = \"card__item\" data-id = \"${card.uri}\">\n    <div class=\"card__wrapper\">\n      <div class=\"card__thumb\">\n        <img class=\"card__img\" src = \"${imgUrl}\" alt = \"${imgCaption}\">\n        <p class=\"card__news-category\">${card.section_name}</p>\n        <p class=\"card__text-read\">Already read</p>\n        <button class=\"favorite-btn\" type=\"button\" data-action=\"favorite-btn\">Add to favorite</button>\n      </div>\n      <h3 class=\"card__news-title\">${card.headline.main}</h3>\n      <p class=\"card__news-description\">${card.abstract}</p>\n      <div class=\"card__additional-info-container\">\n        <p class=\"card__datetime\">${dateFormat(card.pub_date, 'dd/mm/yyyy')}</p>\n        <a class=\"card__link\" href=\"${\n          card.web_url\n        }\" target=\"_blank\" rel=\"noopener noreferrer nofollow\">Read more</a>\n      </div>\n      \n    </div>\n</li>`;\n        });\n        cardList.classList.remove('notFound');\n      } else {\n        html = \"Sorry, we didn't find any news!\";\n        cardList.classList.add('notFound');\n      }\n      cardList.innerHTML = html;\n      setFavoritesOnLoad();\n    });\n}\ngetCardsList();\n\ncardList.addEventListener('click', addToFavorite);\ncardList.addEventListener('click', addToAlreadyRead);\n\n//----------------------------\n\nfunction addToAlreadyRead(e) {\n  console.log(e.target.dataset);\n  if (e.target.dataset.action === 'card__link') {\n    let cardItem =\n      e.target.parentElement.parentElement.parentElement.dataset.id;\n    console.log(e.target.parentElement.parentElement.dataset.id);\n    const favorites = JSON.parse(localStorage.getItem('read')) || [];\n\n    if (e.target.classList.contains('removeFavorite-btn')) {\n      console.log(e.target.dataset.action);\n      const updatedFavorites = favorites.filter(id => id !== cardItem);\n      localStorage.setItem('read', JSON.stringify(updatedFavorites));\n      // e.target.textContent = \"Add to favorites\";\n      // e.target.classList.remove(\"removeFavorite-btn\");\n    } else {\n      favorites.push(cardItem);\n      localStorage.setItem('read', JSON.stringify(favorites));\n      // e.target.textContent = \"Remove from favorites\";\n      // e.target.classList.add(\"removeFavorite-btn\");\n    }\n  }\n}\n\nfunction setAlreadyReadOnLoad() {\n  const favorites = JSON.parse(localStorage.getItem('read')) || [];\n\n  favorites.forEach(id => {\n    const cardItem = document.querySelector(`[data-id=\"${id}\"]`);\n    const favoriteBtn = cardItem.querySelector(\"[data-action='favorite-btn']\");\n\n    favoriteBtn.classList.add('removeFavorite-btn');\n    favoriteBtn.textContent = 'Remove from fav';\n  });\n}\n"],"names":["mobileMenu","document","querySelector","openMenuBtn","closeMenuBtn","toggleMenu","isMenuOpen","getAttribute","setAttribute","classList","toggle","bodyScrollLock","body","addEventListener","window","matchMedia","e","matches","remove","enableBodyScroll","$678f27e45062342e$var$details","querySelectorAll","i","length","$678f27e45062342e$var$accordion","event","target","open","details","parentNode","children","tagName","hasAttribute","removeAttribute","$db12283b528bfe21$var$themeSwitcher","getElementById","checked","this","add","localStorage","setItem","textSwitcher","imageSwitcher","localStorageTheme","getItem","className","$51ab2c0018eca52b$var$iconSearch","$51ab2c0018eca52b$var$searchInput","onclick","$e211db0cc6bcdc34$var$cardList","$e211db0cc6bcdc34$var$BASE_URL","$e211db0cc6bcdc34$var$API_KEY","$e211db0cc6bcdc34$var$POPULAR_URL","$e211db0cc6bcdc34$var$temp","async","value","getNews","fetch","news","json","results","console","log","then","response","html","forEach","card","imgUrl","media","url","imgCaption","caption","uri","section_name","title","abstract","dateFormat","published_date","innerHTML","setFavoritesOnLoad","addToFavorite","dataset","action","cardItem","parentElement","id","favorites","JSON","parse","contains","updatedFavorites","filter","stringify","push","$b6b983339d80423b$var$cardList","docs","multimedia","headline","main","pub_date","web_url"],"version":3,"file":"index.4334c615.js.map"}