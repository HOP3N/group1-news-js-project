!function(){var e=document.querySelectorAll("details");for(i=0;i<e.length;i++)e[i].addEventListener("toggle",t);function t(e){if(e.target.open){var t=e.target.parentNode.children;for(i=0;i<t.length;i++)"DETAILS"==t[i].tagName&&t[i].hasAttribute("open")&&e.target!=t[i]&&t[i].removeAttribute("open")}}var n,r=document.querySelector(".wrapper"),o=document.querySelector(".input-part"),a=o.querySelector(".info-txt"),c=o.querySelector("input"),s=o.querySelector("button"),u=r.querySelector(".weather-part"),l=u.querySelector("img"),d=r.querySelector("header i");function p(e){var t=e.coords,r=t.latitude,i=t.longitude;n="https://api.openweathermap.org/data/2.5/weather?lat=".concat(r,"&lon=").concat(i,"&units=metric&appid=your_api_key"),v()}function g(e){a.innerText=e.message,a.classList.add("error")}function v(){a.innerText="Getting weather details...",a.classList.add("pending"),fetch(n).then((function(e){return e.json()})).then((function(e){return function(e){if("404"==e.cod)a.classList.replace("pending","error"),a.innerText="".concat(c.value," isn't a valid city name");else{var t=e.name,n=e.sys.country,i=e.weather[0],o=i.description,s=i.id,d=e.main,p=d.temp,g=d.feels_like,v=d.humidity;800==s?l.src="icons/clear.svg":s>=200&&s<=232?l.src="icons/storm.svg":s>=600&&s<=622?l.src="icons/snow.svg":s>=701&&s<=781?l.src="icons/haze.svg":s>=801&&s<=804?l.src="icons/cloud.svg":(s>=500&&s<=531||s>=300&&s<=321)&&(l.src="icons/rain.svg"),u.querySelector(".temp .numb").innerText=Math.floor(p),u.querySelector(".weather").innerText=o,u.querySelector(".location span").innerText="".concat(t,", ").concat(n),u.querySelector(".temp .numb-2").innerText=Math.floor(g),u.querySelector(".humidity span").innerText="".concat(v,"%"),a.classList.remove("pending","error"),a.innerText="",c.value="",r.classList.add("active")}}(e)})).catch((function(){a.innerText="Something went wrong",a.classList.replace("pending","error")}))}c.addEventListener("keyup",(function(e){var t;"Enter"==e.key&&""!=c.value&&(t=c.value,n="https://api.openweathermap.org/data/2.5/weather?q=".concat(t,"&units=metric&appid=your_api_key"),v())})),s.addEventListener("click",(function(){navigator.geolocation?navigator.geolocation.getCurrentPosition(p,g):alert("Your browser not support geolocation api")})),d.addEventListener("click",(function(){r.classList.remove("active")}))}();
//# sourceMappingURL=index.561c2992.js.map
