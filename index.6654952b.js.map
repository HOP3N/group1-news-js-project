{"mappings":"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","sources":["src/js/mobile-menu.js","src/js/api.js","src/js/pagination.js","src/js/read.js","src/js/theme.js","src/js/header.js","src/js/get-card-list-popular.js","src/js/get-popular.js","src/js/get-card-list-search.js"],"sourcesContent":["(() => {\n  const mobileMenu = document.querySelector('.js-menu-container');\n  const openMenuBtn = document.querySelector('.js-open-menu');\n  const closeMenuBtn = document.querySelector('.js-close-menu');\n\n  const toggleMenu = () => {\n    const isMenuOpen =\n      openMenuBtn.getAttribute('aria-expanded') === 'true' || false;\n    openMenuBtn.setAttribute('aria-expanded', !isMenuOpen);\n    mobileMenu.classList.toggle('is-open');\n\n    const scrollLockMethod = !isMenuOpen\n      ? 'disableBodyScroll'\n      : 'enableBodyScroll';\n    bodyScrollLock[scrollLockMethod](document.body);\n  };\n\n  openMenuBtn.addEventListener('click', toggleMenu);\n  closeMenuBtn.addEventListener('click', toggleMenu);\n\n  window.matchMedia('(min-width: 768px)').addEventListener('change', e => {\n    if (!e.matches) return;\n    mobileMenu.classList.remove('is-open');\n    openMenuBtn.setAttribute('aria-expanded', false);\n    bodyScrollLock.enableBodyScroll(document.body);\n  });\n})();\n\n\n//Mobile-change-theme\n\n// const themeSwitcherMobile = document.getElementById('theme-switch-mobile');\n\n// themeSwitcherMobile.checked = false;\n\n\n// function clickHandlerMobile() {\n//   if (this.checked) {\n//     document.body.classList.remove('light');\n//     document.body.classList.add('dark');\n//     localStorage.setItem('theme', 'dark');\n   \n//   } else {\n//     document.body.classList.add('light');\n//     document.body.classList.remove('dark');\n//     localStorage.setItem('theme', 'light');\n    \n//   }\n// }\n\n// function checkThemeMobile() {\n//   const localStorageThemeMobile = localStorage.getItem('theme');\n\n//   // set the theme of body\n//   document.body.className = localStorageThemeMobile;\n\n//   // adjust the slider position\n//   if (localStorageTheme === 'dark') {\n//     themeSwitcherMobile.checked = true;\n//     }\n// }\n\n// themeSwitcherMobile.addEventListener('change', clickHandlerMobile);\n// window.addEventListener('load', checkTheme);\n","'use strict';\n\n// const apiKey = 'SVYGfSzYyEfqvl2Rz9D9zXBCipJV7rQX';\n\n// const BASE_URL = 'https://api.nytimes.com/svc/mostpopular/v2/viewed/1.json';\n\n// export const loadNews = () => {\n//     return fetch(`${BASE_URL}?${searchQuery}api-key=${apiKey}`)\n//         .then(response => {\n//     if (!response.ok) {\n//       throw new Error(`${response.status} - ${response.statusText}`);\n//     }\n\n//     return response.json();\n//   });\n// };\n\nexport const loadNews = () => {\n  return fetch(`${BASE_URL}/mostpopular/v2/viewed/1.json?${apiKey}`).then(\n    response => {\n      if (!response.ok) {\n        throw new Error(`${response.status} - ${response.statusText}`);\n      }\n\n      return response.json();\n    }\n  );\n};\n\n\n\n//\n//\nconst apiKey = 'api-key=SVYGfSzYyEfqvl2Rz9D9zXBCipJV7rQX';\nconst BASE_URL = 'https://api.nytimes.com/svc';\n// const loadNews = `https://api.nytimes.com/svc/mostpopular/v2/viewed/1.json?${apiKey}`;\n\nasync function getPopularArticle() {\n  const articleFetch = await fetch(loadNews);\n  const articles = await articleFetch.json();\n  let { results } = articles;\n  \n  return results;\n}\n\nasync function getCategoryList() {\n  const categoryList = await fetch(\n    `${BASE_URL}//news/v3/content/section-list.json?${apiKey}`\n  );\n  const categories = await categoryList.json();\n  let { results } = categories;\n\n\n\n  return results;\n}\n\nasync function getSearchArticle(value) {\n  const articleFetch = await fetch(\n    `${BASE_URL}/search/v2/articlesearch.json?q=${value}&${apiKey}`\n  );\n  const articles = await articleFetch.json();\n  let { response } = articles;\n  let { docs } = response;\n  //   console.log(docs);\n\n  return docs;\n}\n\nasync function getArticleByCategory(value) {\n  const articleFetch = await fetch(\n    `${BASE_URL}/news/v3/content/inyt/${value}.json?${apiKey}`\n  );\n  const articles = await articleFetch.json();\n  let { results } = articles;\n  console.log(results);\n\n  return results;\n}\n\n\nexport {\n  getPopularArticle,\n  getCategoryList,\n  getSearchArticle,\n  getArticleByCategory,\n};","import { loadNews } from './api.js';\nimport './offset.js';\nimport './search-news.js';\n\n\nconst deviceWidth = +window.innerWidth;\nconst pg = document.querySelector('.pagination');\nconst btnNextPg = document.querySelector('button.next-page');\nconst btnPrevPg = document.querySelector('button.prev-page');\n\nconst mobileWidth = 480;\nconst tabletWidth = 768;\n\nconst loaderElement = document.createElement('div');\nloaderElement.innerHTML = `\n    <div class=\"loader-container\">\n      <div class=\"loader\"></div>\n    </div>\n`;\n\nfunction appendLoader() {\n    // console.log('loader added');\n    document.body.append(loaderElement);\n}\n\nfunction removeLoader() {\n    const element = document.querySelector('.loader-container');\n    // console.log(element, 'loader removed');\n    loaderElement.remove();\n}\n\nlet news = [];\n\n// const localNews = [];\n\n// for (let i = 0; i < 8 * 20; i++) {\n//     localNews.push(i);\n// };\nappendLoader();\n\nloadNews()\n// const news = loadNews()\n  .then(data => {\n    return data.results;\n  })\n \n  .then(results => {\n    news = results;\n     console.log(news);\n    return news;\n  })\n  .then(data => {\n    const result = {\n      currentPage: 1,\n      numLinksTwoSide: 1,\n      totalPages: Math.ceil(news / valuePage.perPage) || 1,\n      perPage: 4,\n    };\n\n    if (deviceWidth <= mobileWidth) {\n      result.perPage = 4;\n    } else if (deviceWidth > mobileWidth && deviceWidth <= tabletWidth) {\n      result.perPage = 7;\n    } else {\n      result.perPage = 8;\n    }\n// const updatePerPage = offset;\n// if (updatePerPage<=mobileWidth) {\n//   updatePerPage.slice(0,5);\n//     } else if(updatePerPage = deviceWidth > mobileWidth && deviceWidth <= tabletWidth){\n//   updatePerPage.slice(0,8);\n// } else {\n//   updatePerPage.slice(0, 9);\n// }\n    result.totalPages = Math.ceil(news.length / result.perPage);\n\n    pg.innerHTML = '';\n    pagination(result.totalPages);\n\n    return result;\n  })\n  .then(modifiedData => (valuePage = modifiedData))\n  .then(pageData => {\n    removeLoader();\n    pagination(pageData.totalPages);\n  });\n\nwindow.addEventListener('resize', () => {\n\n  valuePage = calcPaginationData(valuePage);\n  console.log(valuePage);\n\n  pg.innerHTML = '';\n  pagination(valuePage.totalPages);\n});\n\nconst calcPaginationData = (object) => {\n  let perPage = 0;\n  const deviceWidth = +window.innerWidth;\n  if (deviceWidth <= mobileWidth) {\n    perPage = 4;\n  } else if (deviceWidth > mobileWidth && deviceWidth <= tabletWidth) {\n    perPage = 7;\n  } else {\n    perPage = 8;\n  }\n  const totalPages = Math.ceil(news.length / perPage);\n\n  return {\n    ...object,\n    perPage,\n    totalPages,\n  };\n};\n\nlet valuePage = {\n  currentPage: 1,\n  numLinksTwoSide: 1,\n  totalPages: 0,\n  perPage: 4,\n  \n};\n\n// let itemsPerPage = 0;\n\npagination(valuePage.totalPages);\npg.addEventListener('click', e => {\n  const ele = e.target;\n\n  if (ele.dataset.page) {\n    const pageNumber = parseInt(e.target.dataset.page, 10);\n\n    valuePage.currentPage = pageNumber;\n    pagination(valuePage.totalPages);\n\n    handleBtnLeft();\n    handleBtnRight();\n  }\n});\n\nfunction pagination(totalPages) {\n  const { currentPage, numLinksTwoSide: delta } = valuePage;\n  console.log('pagination render', totalPages)\n\n  const range = delta + 4;\n\n  let render = '';\n  let renderTwoSide = '';\n  let dot = `<li class=\"pg-item pg-item--dot\"><a class=\"pg-link\">...</a></li>`;\n  let countTruncate = 0;\n\n  const numberTruncateLeft = currentPage - delta;\n  const numberTruncateRight = currentPage + delta;\n\n  let active = '';\n  for (let p = 1; p <= totalPages; p++) {\n    active = p === currentPage ? 'active' : '';\n\n    if (totalPages >= 2 * range - 1) {\n      if (numberTruncateLeft > 3 && numberTruncateRight < totalPages - 3 + 1) {\n        if (p >= numberTruncateLeft && p <= numberTruncateRight) {\n          renderTwoSide += renderPage(p, active);\n        }\n      } else {\n        if (\n          (currentPage < range && p <= range)\n          || (currentPage > totalPages - range && p >= totalPages - range + 1)\n          || p === totalPages\n          || p === 1\n        ) {\n          render += renderPage(p, active);\n        } else {\n          countTruncate++;\n          if (countTruncate === 1) render += dot;\n        }\n      }\n    } else {\n      render += renderPage(p, active);\n    }\n  }\n  if (renderTwoSide) {\n    renderTwoSide =\n      renderPage(1) + dot + renderTwoSide + dot + renderPage(totalPages);\n    pg.innerHTML = renderTwoSide;\n  } else {\n    pg.innerHTML = render;\n  }\n}\nfunction renderPage(index, active = '') {\n  return `\n    <li class=\"pg-item ${active}\" data-page=\"${index}\">\n      <a class=\"pg-link\" href=\"#\">${index}</a>\n    </li>\n  `;\n}\n\ndocument\n  .querySelector('.page-container')\n  .addEventListener('click', function (e) {\n    handleButton(e.target);\n  });\n\nfunction handleButton(element) {\n  if (element.classList.contains('prev-page' && 'btn-prev')) {\n    valuePage.currentPage--;\n    handleBtnLeft();\n    btnNextPg.disabled = false;\n  } else if (element.classList.contains('next-page' && 'btn-next')) {\n    valuePage.currentPage++;\n    handleBtnRight();\n    btnPrevPg.disabled = false;\n  }\n  pagination(valuePage.totalPages);\n}\n\nfunction handleBtnLeft() {\n  if (valuePage.currentPage === 1) {\n    btnPrevPg.disabled = true;\n  } else {\n    btnPrevPg.disabled = false;\n  }\n}\n\nfunction handleBtnRight() {\n  if (valuePage.currentPage === valuePage.totalPages) {\n    btnNextPg.disabled = true;\n  } else {\n    btnNextPg.disabled = false;\n  }\n}\n\n\n/* \n*/","// при открытии следующей закрывается предыдущая\nvar details = document.querySelectorAll('details');\nfor (i = 0; i < details.length; i++) {\n  details[i].addEventListener('toggle', accordion);\n}\nfunction accordion(event) {\n  if (!event.target.open) return;\n  var details = event.target.parentNode.children;\n  for (i = 0; i < details.length; i++) {\n    if (\n      details[i].tagName != 'DETAILS' ||\n      !details[i].hasAttribute('open') ||\n      event.target == details[i]\n    ) {\n      continue;\n    }\n    details[i].removeAttribute('open');\n  }\n}\n\n// ********************************************************\n","const themeSwitcher = document.getElementById('theme-switch');\nthemeSwitcher.checked = false;\n\n\nfunction clickHandler() {\n  if (this.checked) {\n    document.body.classList.remove('light');\n    document.body.classList.add('dark');\n    localStorage.setItem('theme', 'dark');\n    textSwitcher[0].classList.remove('active');\n    textSwitcher[1].classList.add('active');\n    imageSwitcher[0].classList.remove('active');\n    imageSwitcher[1].classList.add('active');\n  } else {\n    document.body.classList.add('light');\n    document.body.classList.remove('dark');\n    localStorage.setItem('theme', 'light');\n    textSwitcher[1].classList.remove('active');\n    textSwitcher[0].classList.add('active');\n    imageSwitcher[1].classList.remove('active');\n    imageSwitcher[0].classList.add('active');\n  }\n}\n\nfunction checkTheme() {\n  const localStorageTheme = localStorage.getItem('theme');\n\n  // set the theme of body\n  document.body.className = localStorageTheme;\n\n  // adjust the slider position\n  if (localStorageTheme === 'dark') {\n    themeSwitcher.checked = true;\n    textSwitcher[1].classList.add('active');\n    imageSwitcher[1].classList.add('active');\n  }\n}\n\nthemeSwitcher.addEventListener('change', clickHandler);\nwindow.addEventListener('load', checkTheme);\n","const iconSearch = document.querySelector('.icon-search');\nconst searchInput = document.querySelector('.search-input');\n\n\niconSearch.onclick = function(){\n    searchInput.classList.toggle('active')\n}","// import dateFormat, { masks } from 'dateformat';\r\n// import { addToFavorite } from './add-to-favorite';\r\n// import { setFavoritesOnLoad } from './set-favorites-on-load';\r\nimport { getPopular } from './get-popular';\r\n\r\nconst cardList = document.getElementById('cards');\r\nconst BASE_URL = 'https://api.nytimes.com/svc';\r\nconst API_KEY = 'SVYGfSzYyEfqvl2Rz9D9zXBCipJV7rQX';\r\nconst POPULAR_URL = '/mostpopular/v2/viewed/1.json?api-key=';\r\nconst temp = getPopular();\r\nconsole.log(temp);\r\n\r\nfunction getCardsList() {\r\n  fetch(`${BASE_URL}${POPULAR_URL}${API_KEY}`)\r\n    .then(response => response.json())\r\n    .then(({ results }) => {\r\n      console.log(results);\r\n      let html = '';\r\n      if (results) {\r\n        results.forEach(card => {\r\n          const imgUrl = card.media.length\r\n            ? card.media[0]['media-metadata'][2].url\r\n            : '';\r\n          const imgCaption = card.media.length ? card.media[0].caption : '';\r\n          html += `<li class = \"card__item\" data-id = \"${card.uri}\">\r\n    <div class=\"card__wrapper\">\r\n      <div class=\"card__thumb\">\r\n        <img class=\"card__img\" src = \"${imgUrl}\" alt = \"${imgCaption}\">\r\n        <p class=\"card__news-category\">${card.section_name}</p>\r\n        <p class=\"card__text-read\">Already read</p>\r\n        <button class=\"favorite-btn\" type=\"button\" data-action=\"favorite-btn\">Add to favorite</button>\r\n      </div>\r\n      <h3 class=\"card__news-title\">${card.title}</h3>\r\n      <p class=\"card__news-description\">${card.abstract}</p>\r\n      <div class=\"card__additional-info-container\">\r\n        <p class=\"card__datetime\">${dateFormat(\r\n          card.published_date,\r\n          'dd/mm/yyyy'\r\n        )}</p>\r\n        <a class=\"card__link\" href=\"${\r\n          card.url\r\n        }\" target=\"_blank\" rel=\"noopener noreferrer nofollow\">Read more</a>\r\n      </div>\r\n      \r\n    </div>\r\n</li>`;\r\n        });\r\n        cardList.classList.remove('notFound');\r\n      } else {\r\n        html = \"Sorry, we didn't find any news!\";\r\n        cardList.classList.add('notFound');\r\n      }\r\n      cardList.innerHTML = html;\r\n      setFavoritesOnLoad();\r\n    });\r\n}\r\ngetCardsList();\r\n\r\ncardList.addEventListener('click', addToFavorite);\r\ncardList.addEventListener('click', addToAlreadyRead);\r\n\r\n//----------------------------\r\n\r\nfunction addToAlreadyRead(e) {\r\n  console.log(e.target.dataset);\r\n  if (e.target.dataset.action === 'card__link') {\r\n    let cardItem =\r\n      e.target.parentElement.parentElement.parentElement.dataset.id;\r\n    console.log(e.target.parentElement.parentElement.dataset.id);\r\n    const favorites = JSON.parse(localStorage.getItem('read')) || [];\r\n\r\n    if (e.target.classList.contains('removeFavorite-btn')) {\r\n      console.log(e.target.dataset.action);\r\n      const updatedFavorites = favorites.filter(id => id !== cardItem);\r\n      localStorage.setItem('read', JSON.stringify(updatedFavorites));\r\n      // e.target.textContent = \"Add to favorites\";\r\n      // e.target.classList.remove(\"removeFavorite-btn\");\r\n    } else {\r\n      favorites.push(cardItem);\r\n      localStorage.setItem('read', JSON.stringify(favorites));\r\n      // e.target.textContent = \"Remove from favorites\";\r\n      // e.target.classList.add(\"removeFavorite-btn\");\r\n    }\r\n  }\r\n}\r\n\r\nfunction setAlreadyReadOnLoad() {\r\n  const favorites = JSON.parse(localStorage.getItem('read')) || [];\r\n\r\n  favorites.forEach(id => {\r\n    const cardItem = document.querySelector(`[data-id=\"${id}\"]`);\r\n    const favoriteBtn = cardItem.querySelector(\"[data-action='favorite-btn']\");\r\n\r\n    favoriteBtn.classList.add('removeFavorite-btn');\r\n    favoriteBtn.textContent = 'Remove from fav';\r\n  });\r\n}\r\n","async function getPopular(value) {\n  const BASE_URL = 'https://api.nytimes.com/svc';\n  const API_KEY = 'SVYGfSzYyEfqvl2Rz9D9zXBCipJV7rQX';\n  const POPULAR_URL = '/mostpopular/v2/viewed/1.json?api-key=';\n  const getNews = await fetch(`${BASE_URL}${POPULAR_URL}${API_KEY}`);\n  const news = await getNews.json();\n  let { results } = news;\n  return results;\n}\n\nexport { getPopular };\n","// import dateFormat, { masks } from 'dateformat';\n// import { addToFavorite } from './add-to-favorite';\n// import { setFavoritesOnLoad } from './set-favorites-on-load';\n\nconst cardList = document.getElementById('cards');\nconst BASE_URL = 'https://api.nytimes.com/svc';\nconst API_KEY = 'SVYGfSzYyEfqvl2Rz9D9zXBCipJV7rQX';\n//api.nytimes.com/svc/search/v2/articlesearch.json?q=arts&page=1&api-key=SVYGfSzYyEfqvl2Rz9D9zXBCipJV7rQX\nfunction getCardsList() {\n  fetch(\n    `${BASE_URL}/search/v2/articlesearch.json?q=arts&page=1&api-key=${API_KEY}`\n  )\n    .then(response => response.json())\n    .then(({ response }) => {\n      console.log(response);\n      const results = response.docs;\n      let html = '';\n      if (results) {\n        results.forEach(card => {\n          const imgUrl = card.multimedia.length\n            ? `https://static01.nyt.com/${card.multimedia[0].url}`\n            : '';\n          const imgCaption = card.multimedia.length\n            ? `https://static01.nyt.com/${card.multimedia[0].caption}`\n            : '';\n\n          html += `<li class = \"card__item\" data-id = \"${card.uri}\">\n    <div class=\"card__wrapper\">\n      <div class=\"card__thumb\">\n        <img class=\"card__img\" src = \"${imgUrl}\" alt = \"${imgCaption}\">\n        <p class=\"card__news-category\">${card.section_name}</p>\n        <p class=\"card__text-read\">Already read</p>\n        <button class=\"favorite-btn\" type=\"button\" data-action=\"favorite-btn\">Add to favorite</button>\n      </div>\n      <h3 class=\"card__news-title\">${card.headline.main}</h3>\n      <p class=\"card__news-description\">${card.abstract}</p>\n      <div class=\"card__additional-info-container\">\n        <p class=\"card__datetime\">${dateFormat(card.pub_date, 'dd/mm/yyyy')}</p>\n        <a class=\"card__link\" href=\"${\n          card.web_url\n        }\" target=\"_blank\" rel=\"noopener noreferrer nofollow\">Read more</a>\n      </div>\n      \n    </div>\n</li>`;\n        });\n        cardList.classList.remove('notFound');\n      } else {\n        html = \"Sorry, we didn't find any news!\";\n        cardList.classList.add('notFound');\n      }\n      cardList.innerHTML = html;\n      setFavoritesOnLoad();\n    });\n}\ngetCardsList();\n\ncardList.addEventListener('click', addToFavorite);\ncardList.addEventListener('click', addToAlreadyRead);\n\n//----------------------------\n\nfunction addToAlreadyRead(e) {\n  console.log(e.target.dataset);\n  if (e.target.dataset.action === 'card__link') {\n    let cardItem =\n      e.target.parentElement.parentElement.parentElement.dataset.id;\n    console.log(e.target.parentElement.parentElement.dataset.id);\n    const favorites = JSON.parse(localStorage.getItem('read')) || [];\n\n    if (e.target.classList.contains('removeFavorite-btn')) {\n      console.log(e.target.dataset.action);\n      const updatedFavorites = favorites.filter(id => id !== cardItem);\n      localStorage.setItem('read', JSON.stringify(updatedFavorites));\n      // e.target.textContent = \"Add to favorites\";\n      // e.target.classList.remove(\"removeFavorite-btn\");\n    } else {\n      favorites.push(cardItem);\n      localStorage.setItem('read', JSON.stringify(favorites));\n      // e.target.textContent = \"Remove from favorites\";\n      // e.target.classList.add(\"removeFavorite-btn\");\n    }\n  }\n}\n\nfunction setAlreadyReadOnLoad() {\n  const favorites = JSON.parse(localStorage.getItem('read')) || [];\n\n  favorites.forEach(id => {\n    const cardItem = document.querySelector(`[data-id=\"${id}\"]`);\n    const favoriteBtn = cardItem.querySelector(\"[data-action='favorite-btn']\");\n\n    favoriteBtn.classList.add('removeFavorite-btn');\n    favoriteBtn.textContent = 'Remove from fav';\n  });\n}\n"],"names":["mobileMenu","document","querySelector","openMenuBtn","closeMenuBtn","toggleMenu","isMenuOpen","getAttribute","setAttribute","classList","toggle","bodyScrollLock","body","addEventListener","window","matchMedia","e","matches","remove","enableBodyScroll","$db1f432b457e32b4$export$6be879aaed7294f2","fetch","$db1f432b457e32b4$var$BASE_URL","$db1f432b457e32b4$var$apiKey","then","response","ok","Error","status","statusText","json","$2fba37424048abc8$var$deviceWidth","innerWidth","$2fba37424048abc8$var$pg","$2fba37424048abc8$var$btnNextPg","$2fba37424048abc8$var$btnPrevPg","$2fba37424048abc8$var$mobileWidth","$2fba37424048abc8$var$loaderElement","createElement","innerHTML","$2fba37424048abc8$var$news","append","data","results","console","log","result","currentPage","numLinksTwoSide","totalPages","Math","ceil","$2fba37424048abc8$var$valuePage","perPage","length","$2fba37424048abc8$var$pagination","modifiedData","pageData","$2fba37424048abc8$var$calcPaginationData","object","deviceWidth","delta","range","render","renderTwoSide","dot","countTruncate","numberTruncateLeft","numberTruncateRight","active","p","$2fba37424048abc8$var$renderPage","index","$2fba37424048abc8$var$handleBtnLeft","disabled","$2fba37424048abc8$var$handleBtnRight","target","dataset","page","pageNumber","parseInt","element","contains","$2fba37424048abc8$var$handleButton","$678f27e45062342e$var$details","querySelectorAll","i","$678f27e45062342e$var$accordion","event","open","details","parentNode","children","tagName","hasAttribute","removeAttribute","$db12283b528bfe21$var$themeSwitcher","getElementById","checked","this","add","localStorage","setItem","textSwitcher","imageSwitcher","localStorageTheme","getItem","className","$51ab2c0018eca52b$var$iconSearch","$51ab2c0018eca52b$var$searchInput","onclick","$e211db0cc6bcdc34$var$cardList","$e211db0cc6bcdc34$var$BASE_URL","$e211db0cc6bcdc34$var$API_KEY","$e211db0cc6bcdc34$var$POPULAR_URL","$e211db0cc6bcdc34$var$temp","async","value","getNews","news","html","forEach","card","imgUrl","media","url","imgCaption","caption","uri","section_name","title","abstract","dateFormat","published_date","setFavoritesOnLoad","addToFavorite","action","cardItem","parentElement","id","favorites","JSON","parse","updatedFavorites","filter","stringify","push","$b6b983339d80423b$var$cardList","docs","multimedia","headline","main","pub_date","web_url"],"version":3,"file":"index.6654952b.js.map"}