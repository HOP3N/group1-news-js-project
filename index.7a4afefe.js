var e=document.querySelectorAll("details");for(i=0;i<e.length;i++)e[i].addEventListener("toggle",t);function t(e){if(e.target.open){var t=e.target.parentNode.children;for(i=0;i<t.length;i++)"DETAILS"==t[i].tagName&&t[i].hasAttribute("open")&&e.target!=t[i]&&t[i].removeAttribute("open")}}const r=document.querySelector(".wrapper"),n=document.querySelector(".input-part"),o=n.querySelector(".info-txt"),a=n.querySelector("input"),s=n.querySelector("button"),c=r.querySelector(".weather-part"),l=c.querySelector("img"),u=r.querySelector("header i");let d;function p(e){const{latitude:t,longitude:r}=e.coords;d=`https://api.openweathermap.org/data/2.5/weather?lat=${t}&lon=${r}&units=metric&appid=your_api_key`,h()}function g(e){o.innerText=e.message,o.classList.add("error")}function h(){o.innerText="Getting weather details...",o.classList.add("pending"),fetch(d).then((e=>e.json())).then((e=>function(e){if("404"==e.cod)o.classList.replace("pending","error"),o.innerText=`${a.value} isn't a valid city name`;else{const t=e.name,n=e.sys.country,{description:i,id:s}=e.weather[0],{temp:u,feels_like:d,humidity:p}=e.main;800==s?l.src="icons/clear.svg":s>=200&&s<=232?l.src="icons/storm.svg":s>=600&&s<=622?l.src="icons/snow.svg":s>=701&&s<=781?l.src="icons/haze.svg":s>=801&&s<=804?l.src="icons/cloud.svg":(s>=500&&s<=531||s>=300&&s<=321)&&(l.src="icons/rain.svg"),c.querySelector(".temp .numb").innerText=Math.floor(u),c.querySelector(".weather").innerText=i,c.querySelector(".location span").innerText=`${t}, ${n}`,c.querySelector(".temp .numb-2").innerText=Math.floor(d),c.querySelector(".humidity span").innerText=`${p}%`,o.classList.remove("pending","error"),o.innerText="",a.value="",r.classList.add("active")}}(e))).catch((()=>{o.innerText="Something went wrong",o.classList.replace("pending","error")}))}a.addEventListener("keyup",(e=>{var t;"Enter"==e.key&&""!=a.value&&(t=a.value,d=`https://api.openweathermap.org/data/2.5/weather?q=${t}&units=metric&appid=your_api_key`,h())})),s.addEventListener("click",(()=>{navigator.geolocation?navigator.geolocation.getCurrentPosition(p,g):alert("Your browser not support geolocation api")})),u.addEventListener("click",(()=>{r.classList.remove("active")}));
//# sourceMappingURL=index.7a4afefe.js.map
