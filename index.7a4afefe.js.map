{"mappings":"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","sources":["src/js/read.js","src/js/weather.js"],"sourcesContent":["// при открытии следующей закрывается предыдущая\nvar details = document.querySelectorAll('details');\nfor (i = 0; i < details.length; i++) {\n  details[i].addEventListener('toggle', accordion);\n}\nfunction accordion(event) {\n  if (!event.target.open) return;\n  var details = event.target.parentNode.children;\n  for (i = 0; i < details.length; i++) {\n    if (\n      details[i].tagName != 'DETAILS' ||\n      !details[i].hasAttribute('open') ||\n      event.target == details[i]\n    ) {\n      continue;\n    }\n    details[i].removeAttribute('open');\n  }\n}\n\n// ********************************************************\n","const wrapper = document.querySelector(\".wrapper\"),\ninputPart = document.querySelector(\".input-part\"),\ninfoTxt = inputPart.querySelector(\".info-txt\"),\ninputField = inputPart.querySelector(\"input\"),\nlocationBtn = inputPart.querySelector(\"button\"),\nweatherPart = wrapper.querySelector(\".weather-part\"),\nwIcon = weatherPart.querySelector(\"img\"),\narrowBack = wrapper.querySelector(\"header i\");\nlet api;\ninputField.addEventListener(\"keyup\", e =>{\n    if(e.key == \"Enter\" && inputField.value != \"\"){\n        requestApi(inputField.value);\n    }\n});\nlocationBtn.addEventListener(\"click\", () =>{\n    if(navigator.geolocation){\n        navigator.geolocation.getCurrentPosition(onSuccess, onError);\n    }else{\n        alert(\"Your browser not support geolocation api\");\n    }\n});\nfunction requestApi(city){\n    api = `https://api.openweathermap.org/data/2.5/weather?q=${city}&units=metric&appid=your_api_key`;\n    fetchData();\n}\nfunction onSuccess(position){\n    const {latitude, longitude} = position.coords;\n    api = `https://api.openweathermap.org/data/2.5/weather?lat=${latitude}&lon=${longitude}&units=metric&appid=your_api_key`;\n    fetchData();\n}\nfunction onError(error){\n    infoTxt.innerText = error.message;\n    infoTxt.classList.add(\"error\");\n}\nfunction fetchData(){\n    infoTxt.innerText = \"Getting weather details...\";\n    infoTxt.classList.add(\"pending\");\n    fetch(api).then(res => res.json()).then(result => weatherDetails(result)).catch(() =>{\n        infoTxt.innerText = \"Something went wrong\";\n        infoTxt.classList.replace(\"pending\", \"error\");\n    });\n}\nfunction weatherDetails(info){\n    if(info.cod == \"404\"){\n        infoTxt.classList.replace(\"pending\", \"error\");\n        infoTxt.innerText = `${inputField.value} isn't a valid city name`;\n    }else{\n        const city = info.name;\n        const country = info.sys.country;\n        const {description, id} = info.weather[0];\n        const {temp, feels_like, humidity} = info.main;\n        if(id == 800){\n            wIcon.src = \"icons/clear.svg\";\n        }else if(id >= 200 && id <= 232){\n            wIcon.src = \"icons/storm.svg\";  \n        }else if(id >= 600 && id <= 622){\n            wIcon.src = \"icons/snow.svg\";\n        }else if(id >= 701 && id <= 781){\n            wIcon.src = \"icons/haze.svg\";\n        }else if(id >= 801 && id <= 804){\n            wIcon.src = \"icons/cloud.svg\";\n        }else if((id >= 500 && id <= 531) || (id >= 300 && id <= 321)){\n            wIcon.src = \"icons/rain.svg\";\n        }\n        \n        weatherPart.querySelector(\".temp .numb\").innerText = Math.floor(temp);\n        weatherPart.querySelector(\".weather\").innerText = description;\n        weatherPart.querySelector(\".location span\").innerText = `${city}, ${country}`;\n        weatherPart.querySelector(\".temp .numb-2\").innerText = Math.floor(feels_like);\n        weatherPart.querySelector(\".humidity span\").innerText = `${humidity}%`;\n        infoTxt.classList.remove(\"pending\", \"error\");\n        infoTxt.innerText = \"\";\n        inputField.value = \"\";\n        wrapper.classList.add(\"active\");\n    }\n}\narrowBack.addEventListener(\"click\", ()=>{\n    wrapper.classList.remove(\"active\");\n});"],"names":["$103c6abfc3a0e310$var$details","document","querySelectorAll","i","length","addEventListener","$103c6abfc3a0e310$var$accordion","event","target","open","details","parentNode","children","tagName","hasAttribute","removeAttribute","$83ee39fa453a4c23$var$wrapper","querySelector","$83ee39fa453a4c23$var$inputPart","$83ee39fa453a4c23$var$infoTxt","$83ee39fa453a4c23$var$inputField","$83ee39fa453a4c23$var$locationBtn","$83ee39fa453a4c23$var$weatherPart","$83ee39fa453a4c23$var$wIcon","$83ee39fa453a4c23$var$arrowBack","$83ee39fa453a4c23$var$api","$83ee39fa453a4c23$var$onSuccess","position","latitude","longitude","coords","$83ee39fa453a4c23$var$fetchData","$83ee39fa453a4c23$var$onError","error","innerText","message","classList","add","fetch","then","res","json","result","info","cod","replace","value","city","name","country","sys","description","id","weather","temp","feels_like","humidity","main","src","Math","floor","remove","$83ee39fa453a4c23$var$weatherDetails","catch","e","key","navigator","geolocation","getCurrentPosition","alert"],"version":3,"file":"index.7a4afefe.js.map"}